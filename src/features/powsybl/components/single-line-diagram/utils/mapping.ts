import { TeleInformation } from '@/features/network/types/tele-information.type';

export const feeders_with_dynawo_id = [
  {
    id: 'idMQIS_32_Y631_95_ONE_ARROW_REACTIVE',
    equipmentId: 'MQIS Y631',
    side: 'ONE',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'MQIS Y631_Q1_value',
  },
  {
    id: 'idMQIS_32_Y761_95_TWO_ARROW_ACTIVE',
    equipmentId: 'MQIS Y761',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'MQIS Y761_P2_value',
  },
  {
    id: 'idMQIS_32_Y761_95_TWO_ARROW_REACTIVE',
    equipmentId: 'MQIS Y761',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'MQIS Y761_Q2_value',
  },
  {
    id: 'idCISSAL61MQIS_95_TWO_ARROW_CURRENT',
    equipmentId: 'CISSAL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'CISSAL61MQIS_i2_value',
  },
  {
    id: 'idMQIS_32_Y631_95_ONE_ARROW_ACTIVE',
    equipmentId: 'MQIS Y631',
    side: 'ONE',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'MQIS Y631_P1_value',
  },
  {
    id: 'idMQIS_32_Y764_95_TWO_ARROW_ACTIVE',
    equipmentId: 'MQIS Y764',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'MQIS Y764_P2_value',
  },
  {
    id: 'idBACALL61MQIS_95_TWO_ARROW_ACTIVE',
    equipmentId: 'BACALL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'BACALL61MQIS_P2_value',
  },
  {
    id: 'idBLAY5L61MQIS_95_TWO_ARROW_ACTIVE',
    equipmentId: 'BLAY5L61MQIS',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'BLAY5L61MQIS_P2_value',
  },
  {
    id: 'idFLOIRL61MQIS_95_TWO_ARROW_ACTIVE',
    equipmentId: 'FLOIRL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'FLOIRL61MQIS_P2_value',
  },
  {
    id: 'idMQIS_32_L61REAC_46__95_ONE_ARROW_CURRENT',
    equipmentId: 'MQIS L61REAC.',
    side: 'ONE',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'MQIS L61REAC._i1_value',
  },
  {
    id: 'idMQIS_32_Y631_95_ONE_ARROW_CURRENT',
    equipmentId: 'MQIS Y631',
    side: 'ONE',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'MQIS Y631_i1_value',
  },
  {
    id: 'idFLEACL61MQIS_95_TWO_ARROW_CURRENT',
    equipmentId: 'FLEACL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'FLEACL61MQIS_i2_value',
  },
  {
    id: 'idFLEACL61MQIS_95_TWO_ARROW_REACTIVE',
    equipmentId: 'FLEACL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'FLEACL61MQIS_Q2_value',
  },
  {
    id: 'idBACALL61MQIS_95_TWO_ARROW_REACTIVE',
    equipmentId: 'BACALL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'BACALL61MQIS_Q2_value',
  },
  {
    id: 'idMQIS_32_Y632_95_ONE_ARROW_REACTIVE',
    equipmentId: 'MQIS Y632',
    side: 'ONE',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'MQIS Y632_Q1_value',
  },
  {
    id: 'idFLOIRL61MQIS_95_TWO_ARROW_CURRENT',
    equipmentId: 'FLOIRL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'FLOIRL61MQIS_i2_value',
  },
  {
    id: 'idMQIS_32_L61REAC_46__95_TWO_ARROW_REACTIVE',
    equipmentId: 'MQIS L61REAC.',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'MQIS L61REAC._Q2_value',
  },
  {
    id: 'idBRUGEL61MQIS_95_TWO_ARROW_CURRENT',
    equipmentId: 'BRUGEL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'BRUGEL61MQIS_i2_value',
  },
  {
    id: 'idBACALL61MQIS_95_TWO_ARROW_CURRENT',
    equipmentId: 'BACALL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'BACALL61MQIS_i2_value',
  },
  {
    id: 'idFLOIRL62MQIS_95_TWO_ARROW_CURRENT',
    equipmentId: 'FLOIRL62MQIS',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'FLOIRL62MQIS_i2_value',
  },
  {
    id: 'idMQIS_32_Y762_95_TWO_ARROW_CURRENT',
    equipmentId: 'MQIS Y762',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'MQIS Y762_i2_value',
  },
  {
    id: 'idFLOIRL62MQIS_95_TWO_ARROW_ACTIVE',
    equipmentId: 'FLOIRL62MQIS',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'FLOIRL62MQIS_P2_value',
  },
  {
    id: 'idBRUGEL61MQIS_95_TWO_ARROW_ACTIVE',
    equipmentId: 'BRUGEL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'BRUGEL61MQIS_P2_value',
  },
  {
    id: 'idMQIS_32_L61REAC_46__95_TWO_ARROW_CURRENT',
    equipmentId: 'MQIS L61REAC.',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'MQIS L61REAC._i2_value',
  },
  {
    id: 'idFLEACL61MQIS_95_TWO_ARROW_ACTIVE',
    equipmentId: 'FLEACL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'FLEACL61MQIS_P2_value',
  },
  {
    id: 'idCUBNEL61MQIS_95_TWO_ARROW_CURRENT',
    equipmentId: 'CUBNEL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'CUBNEL61MQIS_i2_value',
  },
  {
    id: 'idBEC5_32_L62MQIS_95_TWO_ARROW_REACTIVE',
    equipmentId: 'BEC5 L62MQIS',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'BEC5 L62MQIS_Q2_value',
  },
  {
    id: 'idMQIS_32_Y761_95_TWO_ARROW_CURRENT',
    equipmentId: 'MQIS Y761',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'MQIS Y761_i2_value',
  },
  {
    id: 'idBLAY5L61MQIS_95_TWO_ARROW_REACTIVE',
    equipmentId: 'BLAY5L61MQIS',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'BLAY5L61MQIS_Q2_value',
  },
  {
    id: 'idMQIS_32_Y764_95_TWO_ARROW_CURRENT',
    equipmentId: 'MQIS Y764',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'MQIS Y764_i2_value',
  },
  {
    id: 'idCISSAL61MQIS_95_TWO_ARROW_ACTIVE',
    equipmentId: 'CISSAL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'CISSAL61MQIS_P2_value',
  },
  {
    id: 'idMQIS_32_L61REAC_46__95_ONE_ARROW_ACTIVE',
    equipmentId: 'MQIS L61REAC.',
    side: 'ONE',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'MQIS L61REAC._P1_value',
  },
  {
    id: 'idFLOIRL61MQIS_95_TWO_ARROW_REACTIVE',
    equipmentId: 'FLOIRL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'FLOIRL61MQIS_Q2_value',
  },
  {
    id: 'idMQIS_32_Y632_95_ONE_ARROW_ACTIVE',
    equipmentId: 'MQIS Y632',
    side: 'ONE',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'MQIS Y632_P1_value',
  },
  {
    id: 'idMQIS_32_Y764_95_TWO_ARROW_REACTIVE',
    equipmentId: 'MQIS Y764',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'MQIS Y764_Q2_value',
  },
  {
    id: 'idBLAY5L61MQIS_95_TWO_ARROW_CURRENT',
    equipmentId: 'BLAY5L61MQIS',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'BLAY5L61MQIS_i2_value',
  },
  {
    id: 'idMQIS_32_Y762_95_TWO_ARROW_REACTIVE',
    equipmentId: 'MQIS Y762',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'MQIS Y762_Q2_value',
  },
  {
    id: 'idCUBNEL61MQIS_95_TWO_ARROW_ACTIVE',
    equipmentId: 'CUBNEL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'CUBNEL61MQIS_P2_value',
  },
  {
    id: 'idBEC5_32_L62MQIS_95_TWO_ARROW_CURRENT',
    equipmentId: 'BEC5 L62MQIS',
    side: 'TWO',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'BEC5 L62MQIS_i2_value',
  },
  {
    id: 'idMQIS_32_L61REAC_46__95_ONE_ARROW_REACTIVE',
    equipmentId: 'MQIS L61REAC.',
    side: 'ONE',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'MQIS L61REAC._Q1_value',
  },
  {
    id: 'idBEC5_32_L62MQIS_95_TWO_ARROW_ACTIVE',
    equipmentId: 'BEC5 L62MQIS',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'BEC5 L62MQIS_P2_value',
  },
  {
    id: 'idBRUGEL61MQIS_95_TWO_ARROW_REACTIVE',
    equipmentId: 'BRUGEL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'BRUGEL61MQIS_Q2_value',
  },
  {
    id: 'idMQIS_32_Y762_95_TWO_ARROW_ACTIVE',
    equipmentId: 'MQIS Y762',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'MQIS Y762_P2_value',
  },
  {
    id: 'idMQIS_32_Y632_95_ONE_ARROW_CURRENT',
    equipmentId: 'MQIS Y632',
    side: 'ONE',
    componentType: 'ARROW_CURRENT',
    dynawo_id: 'MQIS Y632_i1_value',
  },
  {
    id: 'idCUBNEL61MQIS_95_TWO_ARROW_REACTIVE',
    equipmentId: 'CUBNEL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'CUBNEL61MQIS_Q2_value',
  },
  {
    id: 'idMQIS_32_L61REAC_46__95_TWO_ARROW_ACTIVE',
    equipmentId: 'MQIS L61REAC.',
    side: 'TWO',
    componentType: 'ARROW_ACTIVE',
    dynawo_id: 'MQIS L61REAC._P2_value',
  },
  {
    id: 'idFLOIRL62MQIS_95_TWO_ARROW_REACTIVE',
    equipmentId: 'FLOIRL62MQIS',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'FLOIRL62MQIS_Q2_value',
  },
  {
    id: 'idCISSAL61MQIS_95_TWO_ARROW_REACTIVE',
    equipmentId: 'CISSAL61MQIS',
    side: 'TWO',
    componentType: 'ARROW_REACTIVE',
    dynawo_id: 'CISSAL61MQIS_Q2_value',
  },
];

export function get_svg_id_from_dynawo_id(dynawo_id: string) {
  const feeder = feeders_with_dynawo_id.find((item) =>
    item.dynawo_id.includes(dynawo_id),
  );
  // Si un feeder correspondant est trouv√©, renvoie un record avec found=true et l'id
  if (feeder) {
    return {
      found: true,
      id: feeder.id,
    };
  }

  // Sinon, renvoie un record avec found=false
  return {
    found: false,
  };
}

export function createTeleInformationFromDynawoId(
  dynawo_id: string,
  value: number,
): TeleInformation | undefined {
  const result = get_svg_id_from_dynawo_id(dynawo_id);

  if (result.found && result.id) {
    return {
      ti: 'TM',
      data: {
        id: result.id,
        value: value,
      },
    };
  }

  return undefined;
}

export function transformDynawoDataToTeleInformation(
  dynawoData: Record<string, number>,
): TeleInformation[] {
  const result: TeleInformation[] = [];

  for (const dynawoId in dynawoData) {
    const teleInfo = createTeleInformationFromDynawoId(
      dynawoId,
      dynawoData[dynawoId],
    );
    if (teleInfo) {
      result.push(teleInfo);
    }
  }

  return result;
}
